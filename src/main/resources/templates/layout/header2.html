<!-- Register Section -->
<div class="header-body">
  <section class="register">
    <div class="register__content">
      <ul>
        <li>
          <a href="/register"><img src="../../static/img/icon-register.png" alt=""><span>Đăng ký thành viên</span></a>
        </li>
        <li>
          <a id="loginLink" href="/login"><img src="../../static/img/icon-login.png" alt=""><span>Đăng nhập</span></a>
        </li>
      </ul>
      <a class="hotline" style="margin-right:50px;" href="tel:028 7300 8881"><img src="../../static/img/icon-call.png"
                                                                                  alt=""><span>028 7300 8881</span></a>
    </div>
  </section>

<!--SLIDER-->
  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="../../static/img/slider_1.jpg" alt="" class="img-height">
      </div>
      <div class="carousel-item">
        <img src="../../static/img/slider_2.jpg" alt="" class="img-height">
      </div>
      <div class="carousel-item">
        <img src="../../static/img/slider_3.jpg" alt="" class="img-height">
      </div>
      <div class="carousel-item">
        <img src="../../static/img/slider_4.jpg" alt="" class="img-height">
      </div>
      <div class="carousel-item">
        <img src="../../static/img/slider_5.jpg" alt=""class="img-height">
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
  <!--SLIDER-->

  <!-- CART -->
  <div class="cart d-none">
    <div class="cart__wrap">
      <div class="cart__title" style="color: white; text-align: center;">
        <h2>MUA VÉ <br>ONLINE</h2>
      </div>
      <div class="cart__content">
        <div class="cart__item">
          <select class="chonPhim" id="chonPhim" style="height: 50px; color: white; padding: 0 0 0 30px;">
            <option value=''>CHỌN PHIM</option>
          </select>
        </div>
        <div class="cart__item">
          <select class="chonThoiGian" id="chonThoiGian" style="height: 50px; color: white; padding: 0 0 0 30px;">
            <option value=''>CHỌN THỜI GIAN</option>
          </select>
        </div>
        <div class="cart__item">
          <select class="chonKhuVuc" id="chonKhuVuc" style="height: 50px; color: white; padding: 0 0 0 30px;">
            <option value=''>CHỌN SUẤT CHIẾU</option>
          </select>
        </div>
        <div class="cart__item">
          <select class="chonRap" id="chonRap" style="height: 50px; color: white; padding: 0 0 0 30px;">
            <option value=''>CHỌN RẠP</option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <!-- CART -->


</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Lấy phần tử liên kết đăng nhập/đăng xuất
    const loginLink = document.querySelector(".register ul li:nth-child(2) a");

    // Sử dụng AJAX để kiểm tra trạng thái xác thực của người dùng
    fetch("/auth/status")
            .then(response => response.json())
            .then(isAuthenticated => {
              if (isAuthenticated) {
                // Nếu người dùng đã đăng nhập, thay đổi liên kết thành "Đăng xuất"
                loginLink.href = "/logout"; // Đường dẫn xử lý đăng xuất
                loginLink.innerHTML = '<img src="../../static/img/icon-login.png" alt=""><span>Đăng xuất</span>';
              } else {
                // Nếu người dùng chưa đăng nhập, giữ liên kết "Đăng nhập"
                loginLink.href = "/login"; // Đường dẫn xử lý đăng nhập
                loginLink.innerHTML = '<img src="../../static/img/icon-login.png" alt=""><span>Đăng nhập</span>';
              }
            })
            .catch(error => console.error('Error checking authentication status:', error));
  });

</script>